<%# Things that differ: action url, method, submit button text %>

<% if type == :edit %>
    <% action_url = user_url(banana) # making a local variable %>
    <% button_text = "Transfigure!" %>
<% elsif type == :new %>  
    <% action_url = users_url # to users#create %>
    <% button_text = "Birth wizzy!" %>
<% end %>

<form action="<%= action_url %>" method="post">
    <% if type == :edit %>
        <input type="hidden" name="_method" value="patch">
    <% end %>

    <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">

    <label>Username: 
        <input type="text" name="user[username]" 
            value="<%= @user.username %>">
    </label>
    <br><br>

    <label>Password: 
        <input type="password" name="user[password]" 
            value="<%= @user.password %>">
    </label>
    <br><br>
    
    <label for="email">Email: </label>
    <input id="email" type="text" name="user[email]" 
        value="<%= @user.email %>" >
    <br><br>
    
    <label>Age: 
        <input type="text" name="user[age]" 
            value="<%= @user.age %>" >
    </label>
    <br><br>

    <input type="submit" value="<%= button_text %>">
</form>